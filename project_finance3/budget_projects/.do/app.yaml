name: clownfish-app
region: nyc

services:
  - name: pricing-simple
    # app.yaml and package.json live in the same folder, so just use "."
    source_dir: .      # <â€” key change

    github:
      repo: Vitaliy77/pricing-simple
      branch: main
      deploy_on_push: true

    environment_slug: node-js

    build_command: npm ci && npm run build
    output_dir: dist
    run_command: npx serve dist -s -l 3000

    instance_count: 1
    http_port: 3000
    routes:
      - path: /

    envs:
      - key: NODE_VERSION
        scope: RUN_AND_BUILD_TIME
        value: "18"
